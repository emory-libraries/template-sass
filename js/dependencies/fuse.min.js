!function(t){function o(t,e){var n,i,s;for(this.list=t,this.options=e=e||{},n=0,keys=["sort","includeScore","shouldSort"],i=keys.length;n<i;n++)s=keys[n],this.options[s]=s in e?e[s]:o.defaultOptions[s];for(n=0,keys=["searchFn","sortFn","keys","getFn"],i=keys.length;n<i;n++)s=keys[n],this.options[s]=e[s]||o.defaultOptions[s]}var n=function(t,e){if(e=e||{},this.options=e,this.options.location=e.location||n.defaultOptions.location,this.options.distance="distance"in e?e.distance:n.defaultOptions.distance,this.options.threshold="threshold"in e?e.threshold:n.defaultOptions.threshold,this.options.maxPatternLength=e.maxPatternLength||n.defaultOptions.maxPatternLength,this.pattern=e.caseSensitive?t:t.toLowerCase(),this.patternLen=t.length,this.patternLen>this.options.maxPatternLength)throw new Error("Pattern length is too long");this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet()};n.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},n.prototype._calculatePatternAlphabet=function(){var t={},e=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]|=1<<this.pattern.length-e-1;return t},n.prototype._bitapScore=function(t,e){var n=t/this.patternLen,i=Math.abs(this.options.location-e);return this.options.distance?n+i/this.options.distance:i?1:n},n.prototype.search=function(t){if(t=this.options.caseSensitive?t:t.toLowerCase(),this.pattern===t)return{isMatch:!0,score:0};var e,n,i,s,o,r,a,h,p,c=t.length,l=this.options.location,u=this.options.threshold,f=t.indexOf(this.pattern,l),d=this.patternLen+c,g=1,m=[];for(-1!=f&&(u=Math.min(this._bitapScore(0,f),u),-1!=(f=t.lastIndexOf(this.pattern,l+this.patternLen))&&(u=Math.min(this._bitapScore(0,f),u))),f=-1,e=0;e<this.patternLen;e++){for(i=0,s=d;i<s;)this._bitapScore(e,l+s)<=u?i=s:d=s,s=Math.floor((d-i)/2+i);for(d=s,o=Math.max(1,l-s+1),r=Math.min(l+s,c)+this.patternLen,(a=Array(r+2))[r+1]=(1<<e)-1,n=r;o<=n;n--)if(p=this.patternAlphabet[t.charAt(n-1)],a[n]=0===e?(a[n+1]<<1|1)&p:(a[n+1]<<1|1)&p|(h[n+1]|h[n])<<1|1|h[n+1],a[n]&this.matchmask&&(g=this._bitapScore(e,n-1))<=u){if(u=g,f=n-1,m.push(f),!(l<f))break;o=Math.max(1,2*l-f)}if(this._bitapScore(e+1,l)>u)break;h=a}return{isMatch:0<=f,score:g}};var S={deepValue:function(t,e){for(var n=0,i=(e=e.split(".")).length;n<i;n++){if(!t)return null;t=t[e[n]]}return t}};o.defaultOptions={id:null,caseSensitive:!1,includeScore:!1,shouldSort:!0,searchFn:n,sortFn:function(t,e){return t.score-e.score},getFn:S.deepValue,keys:[]},o.prototype.search=function(t){var e,n,i,s,o=new this.options.searchFn(t,this.options),r=this.list,a=r.length,h=this.options,p=this.options.keys,c=p.length,l=[],u={},f=[],d=function(t,e,n){null!=t&&"string"==typeof t&&((i=o.search(t)).isMatch&&((s=u[n])?s.score=Math.min(s.score,i.score):(u[n]={item:e,score:i.score},l.push(u[n]))))};if("string"==typeof r[0])for(var g=0;g<a;g++)d(r[g],g,g);else for(g=0;g<a;g++)for(n=r[g],e=0;e<c;e++)d(this.options.getFn(n,p[e]),n,g);h.shouldSort&&l.sort(h.sortFn);for(var m=h.includeScore?function(t){return l[t]}:function(t){return l[t].item},y=h.id?function(t){return S.deepValue(m(t),h.id)}:function(t){return m(t)},L=(g=0,l.length);g<L;g++)f.push(y(g));return f},"object"==typeof exports?module.exports=o:"function"==typeof define&&define.amd?define(function(){return o}):t.Fuse=o}(this);